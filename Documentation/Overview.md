# Overview – EPUB Studio（v1）

## 目的
画像フォルダから **Apple Books に最適化された右開き EPUB（固定レイアウト）** を自動生成する macOS アプリ。

---

## 特徴
- JPEG 化 → 見開き判定 → 分割 → ページ化 → EPUB パッケージ生成まで **完全自動**
- 単巻フォルダ / 複数巻シリーズの両対応
- 見開き判定は **横長画像** と **番号ペア（例 002_003.jpg）** に対応
- 生成した EPUB を **Books.app に自動登録**（即オープン）
- SwiftUI ベースのシンプル UI（ログ・進捗バーあり）

---

## 利用シナリオ
- 自炊した漫画/書籍の EPUB 化
- Apple Books 用のバッチ生成
- 大量の連番画像を固定レイアウト EPUB に変換

---

## 主要コンポーネント
- **Converter**：メインパイプライン
- **ImageConverter**：JPEG 化
- **EPUBBuilder**：EPUB3 固定レイアウト生成
- **ContentView**：UI（D&D / 進捗 / ログ）
- **AppState**：進行状況、状態管理

---

## 基本ワークフロー
1. 入力フォルダ選択（D&D対応）
2. JPEG 化 & 画像情報取得
3. 見開き分割（必要時）
4. PageInfo シーケンス生成
5. EPUB3 FXL パッケージング
6. Apple Books へ登録
7. ログ表示・次巻へ処理

---

## 現時点の機能（v1）
- 単巻 / 複数巻の自動判別
- 見開き判定（番号ペア & 横長）
- 高品質リサイズ / スプリット
- EPUB3（右開き）生成
- Books.app 自動起動
- 3段階進捗バー + 総合進捗
- ログ出力 & 自動スクロール